@model ProjectPRN221.Models.Blog

@{
    ViewData["Title"] = "AddBlog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>AddBlog</h1>

<h4>Blog</h4>
<hr />
<div class="row">
    <div class="col-md-4">
        <form asp-action="AddBlog">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="BlogTitle" class="control-label"></label>
                <input asp-for="BlogTitle" class="form-control" />
                <span asp-validation-for="BlogTitle" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogAuthor" class="control-label"></label>
                <input asp-for="BlogAuthor" class="form-control" />
                <span asp-validation-for="BlogAuthor" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogDescriptions" class="control-label"></label>
                <input asp-for="BlogDescriptions" class="form-control" />
                <span asp-validation-for="BlogDescriptions" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogCreatedate" class="control-label"></label>
                <input asp-for="BlogCreatedate" class="form-control" />
                <span asp-validation-for="BlogCreatedate" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogCreateby" class="control-label"></label>
                <input asp-for="BlogCreateby" class="form-control" />
                <span asp-validation-for="BlogCreateby" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogImages" class="control-label"></label>
                <input formenctype="multipart/form-data" asp-for="BlogImages" class="form-control" />
                <span asp-validation-for="BlogImages" class="text-danger"></span>
            </div>
            @*<div class="form-group">
                <label asp-for="BlogModifydate" class="control-label"></label>
                <input asp-for="BlogModifydate" class="form-control" />
                <span asp-validation-for="BlogModifydate" class="text-danger"></span>
            </div>*@
            @*<div class="form-group">
                <label asp-for="BlogModifyby" class="control-label"></label>
                <input asp-for="BlogModifyby" class="form-control" />
                <span asp-validation-for="BlogModifyby" class="text-danger"></span>
            </div>*@
            <div class="form-group">
                <label asp-for="BlogDetail" class="control-label"></label>
                @Html.TextAreaFor(model => model.BlogDetail, new { @class = "form-control content-editor" })
                <span asp-validation-for="BlogDetail" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="BlogBackLink" class="control-label"></label>
                <input asp-for="BlogBackLink" class="form-control" />
                <span asp-validation-for="BlogBackLink" class="text-danger"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Create" class="btn btn-primary" />
            </div>
        </form>
    </div>
</div>

@*<script>
    $('.summernote').summernote({
        placeholder: 'Content',
        tabsize: 2,
        height: 120,
        toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'picture', 'video']],
            ['view', ['fullscreen', 'codeview', 'help']]
        ]
    });
</script>*@
@*<script>
    function uploadImage(file) {
        var formData = newFormData();
        formData.append("uploadedFiles", file);
        $.ajax({
            data: formData,
            type: "POST",
            url: '/Post/UploadFile',
            cache: false,
            contentType: false,
            processData: false,
            success: function (FileUrl) {
                alert(FileUrl);
                var imgNode = document.createElement('img');
                imgNode.src = FileUrl;
                $('.content-editor').summernote('insertNode', imgNode);
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }
    $(document).ready(function () {
        $(".content-editor").summernote({
            height: 300,
            minHeight: null,
            maxHeight: null,
            codemirror: {
                theme: "monokai"
            },
            callbacks: {
                onImageUpload: function (files) {
                    for (var i = 0; i < files.length; i++) {

                        uploadImage(files[i]);
                    }
                }
            },
            fontSizes: ['12', '14', '16', '18', '24', '36', '48'],
            toolbar: [
                ['style', ['style']],
                ['font', ['bold', 'underline', 'clear']],
                ['fontname', ['fontname']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview', 'help']],
            ],
        });
    });
    //$(document).ready(function () {
    //    $('#summernote').summernote({
    //        placeholder: 'Enter content....',
    //        tabsize: 2,
    //        height: 200,
    //        minHeight: 100,
    //        maxHeight: 300,
    //        focus: true,
    //        toolbar: [
    //            ['style', ['bold', 'italic', 'underline', 'clear']],
    //            ['font', ['strikethrough', 'superscript', 'subscript']],
    //            ['fontsize', ['fontsize']],
    //            ['color', ['color']],
    //            ['para', ['ul', 'ol', 'paragraph']],
    //            ['height', ['height']],
    //            ['table', ['table']],
    //            ['insert', ['link', 'picture', 'video']],
    //            ['view', ['fullscreen', 'codeview', 'help']],
    //        ],
    //        popover: {
    //            image: [
    //                ['image', ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],
    //                ['float', ['floatLeft', 'floatRight', 'floatNone']],
    //                ['remove', ['removeMedia']]
    //            ],
    //            link: [
    //                ['link', ['linkDialogShow', 'unlink']]
    //            ],
    //            table: [
    //                ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],
    //                ['delete', ['deleteRow', 'deleteCol', 'deleteTable']],
    //            ],
    //            air: [
    //                ['color', ['color']],
    //                ['font', ['bold', 'underline', 'clear']],
    //                ['para', ['ul', 'paragraph']],
    //                ['table', ['table']],
    //                ['insert', ['link', 'picture']]
    //            ]
    //        },
    //        codemirror: {
    //            theme: 'monokai'
    //        }
    //    });

    //});
</script>*@
@*<link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.css" rel="stylesheet">
<script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $(".content-editor").summernote({
            height: 300,
            minHeight: null,
            maxHeight: null,
            codemirror: {
                theme: "monokai"
            },
            callbacks: {
                onImageUpload: function (files) {
                    for (var i = 0; i < files.length; i++) {

                        uploadImage(files[i]);
                    }
                }
            },
            fontSizes: ['12', '14', '16', '18', '24', '36', '48'],
            toolbar: [
                ['style', ['style']],
                ['font', ['bold', 'underline', 'clear']],
                ['fontname', ['fontname']],
                ['fontsize', ['fontsize']],
                ['color', ['color']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'picture', 'video']],
                ['view', ['fullscreen', 'codeview', 'help']],
            ],
        });
    });
    function uploadImage(file) {
        var formData = new FormData();
        formData.append("uploadedFiles", file);
        $.ajax({
            data: formData,
            type: "POST",
            url: '/Post/UploadFile',
            cache: false,
            contentType: false,

            processData: false,
            success: function (FileUrl) {
                alert(FileUrl);
                var imgNode = document.createElement('img');
                imgNode.src = FileUrl;
                $('.content-editor').summernote('insertNode', imgNode);
            },
            error: function (data) {
                alert(data.responseText);
            }
        });
    }
</script>



*@