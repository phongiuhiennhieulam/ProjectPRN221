@model ProjectPRN221.Models.Blog

@{
    ViewData["Title"] = "EditBlog";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Main content -->
<section class="content">

    <!-- Main row -->
    <div class="row">
        <div class="col-md-8">
            <section class="panel tasks-widget">
                <header class="panel-heading">
                    Add Blog
                </header>
                @using (Html.BeginForm("EditBlog", "Admin", FormMethod.Post))
                {
                    @Html.AntiForgeryToken()
                    <div class="panel-body">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <input type="hidden" asp-for="BlogId" name="BlogId" value="@ViewBag.blog.BlogId" />
                        <input type="hidden" asp-for="BlogCreatedate" value="@ViewBag.blog.BlogCreatedate" />
                        <div class="form-group">
                            <label asp-for="BlogTitle" class="control-label"></label>
                            <input asp-for="BlogTitle" class="form-control" value="@ViewBag.blog.BlogTitle" />
                            <span asp-validation-for="BlogTitle" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogAuthor" class="control-label"></label>
                            <input asp-for="BlogAuthor" class="form-control" value="@ViewBag.blog.BlogAuthor"/>
                            <span asp-validation-for="BlogAuthor" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogDescriptions" class="control-label"></label>
                            <input asp-for="BlogDescriptions" class="form-control" value="@ViewBag.blog.BlogDescriptions" />
                            <span asp-validation-for="BlogDescriptions" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogCreatedate" class="control-label"></label>
                            <input asp-for="BlogCreatedate" type="datetime" value="@String.Format("{0:dd/MM/yyyy}", ViewBag.blog.BlogCreatedate)" disabled class="form-control" />
                            <span asp-validation-for="BlogCreatedate" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogCreateby" class="control-label"></label>
                            <input asp-for="BlogCreateby" class="form-control" value="@ViewBag.blog.BlogCreateby"/>
                            <span asp-validation-for="BlogCreateby" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogImages" class="control-label"></label>
                            <input type="hidden" asp-for="BlogImages" class="form-control" value="@ViewBag.blog.BlogImages" />
                            <img class="media-object" src="~/images/blog/@ViewBag.blog.BlogImages" />
                            <input type="file" name="img" class="form-control" style="margin-top: 10px"/>
                            <span asp-validation-for="BlogImages" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogModifydate" class="control-label"></label>
                            <input asp-for="BlogModifydate" class="form-control" value="@ViewBag.blog.BlogModifydate" />
                            <span asp-validation-for="BlogModifydate" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogModifyby" class="control-label"></label>
                            <input asp-for="BlogModifyby" class="form-control" value="@ViewBag.acc.AccountName" />
                            <span asp-validation-for="BlogModifyby" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogDetail" class="control-label"></label>
                            <input type="hidden" name="blogDetail"  value="@ViewBag.blog.BlogDetail">
                            <textarea asp-for="BlogDetail" name="detail" class="form-control" id="summernote" value="@Html.Raw(ViewBag.blog.BlogDetail)"></textarea>
                            <span asp-validation-for="BlogDetail" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BlogBackLink" class="control-label"></label>
                            <input asp-for="BlogBackLink" class="form-control" value="@ViewBag.blog.BlogBackLink" />
                            <span asp-validation-for="BlogBackLink" class="text-danger"></span>
                        </div>
                        <button type="submit" class="btn btn-info" onclick="alert(confirm('Bạn có muốn tạo sửa blog?'))">Save Blog</button>
                    </div>
                }
            </section>
        </div>
    </div>
    <!-- row end -->
</section><!-- /.content -->
<div class="footer-main">
    Copyright &copy Director, 2022
</div>
<script>
    $('#summernote').summernote({
        placeholder: 'Detail...',
        tabsize: 2,
        height: 120,
        toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'picture', 'video']],
            ['view', ['fullscreen', 'codeview', 'help']]
        ]
    });
</script>

